<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- X3D -->
    <script src="https://cdn.jsdelivr.net/npm/x3dom@1.8.1/x3dom.js" integrity="sha256-2huhpaQl/YmJ7HWRbvVusrGMxhXFO1ux6jWIsE8db5A=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/x3dom@1.8.1/x3dom.css" integrity="sha256-DJ+it3021ZHroln6Cw9zeop0S7ILPVZMkdopmyK7XEY=" crossorigin="anonymous">

    <!-- MathJax -->
    <script src="https://cdn.jsdelivr.net/npm/js-polyfills@0.1.43/polyfill.min.js" integrity="sha256-UHghvpiWJZumUbnyJ9MJk6hs9O0U1PgI0GhZ4U1v6Is=" crossorigin="anonymous"></script>
    <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

    <!-- Self-Defined Styles -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/style.css">

    <title>Exploring and Visualizing Flow Data</title>
    <link rel="icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/favicon.ico">
</head>

<body>
    <main>
        <div class="ps-3 pb-5 text-white-50 overflow-auto bg-dark d-none d-md-block" style="width: 400px;">
            <strong class="d-block h6 my-2 pb-2 border-bottom">On this page</strong>
            <nav>
                <ul style="padding-left: 0;">
                    <li><a href="#title">Outputs</a></li>
                    <li><a href="#s1">Section 1: Problem Domain</a></li>
                    <li><a href="#s2">Section 2: Importing Data</a></li>
                    <li>
                        <a href="#s3">Section 3: Exploring the Water Flow</a>
                        <ul>
                            <li><a href="#s3-p1">Behaviour of water flow</a></li>
                            <li>
                                <a href="#s3-p2">Visualization Improvement</a>
                                <ul>
                                    <li><a href="#s3-c4">Scaled Glyph Arrow Chart</a></li>
                                    <li><a href="#s3-c5">Evenly Spaced Streamline 2D</a></li>
                                    <li><a href="#s3-c6">Streamlines Animation</a></li>
                                </ul>
                            </li>
                            <li><a href="#s3-p3">Selection of methods, parameters & tools</a></li>
                            <li><a href="#s3-p4">Interactive Demo</a></li>
                            <li><a href="#s3-p5">ParaView state file</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#s4">Section 4: Exploring the Magnitude of Water Flow</a>
                        <ul>
                            <li>
                                <a href="#s4-p1">Gradient of Derived Scalar Quantities</a>
                                <ul>
                                    <li><a href="#s4-c1-f1-tab" class="ref-figure">Vorticity Gradient Chart</a></li>
                                    <li><a href="#s4-c1-f2-tab" class="ref-figure">Speed Gradient Chart</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#s4-p2">Contours of the Scalar Quantities</a>
                                <ul>
                                    <li><a href="#s4-c3-f6-tab" class="ref-figure">Vorticity Isocontour</a></li>
                                    <li><a href="#s4-c2-f4-tab" class="ref-figure">Speed Isocontour</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#s4-p3">Arrow Glyph with Speed Magnitude</a>
                            </li>
                            <li><a href="#s4-p4">Interactive Demos</a></li>
                            <li><a href="#s4-p5">ParaView state file</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#s5">Section 5: Visualization Designs</a>
                        <ul>
                            <li><a href="#s5-p1">Visualization of water velocity</a></li>
                            <li><a href="#s5-p2">Visualization of water vorticity</a></li>
                            <li><a href="#s5-p3">Visualization of water speed</a></li>
                            <li><a href="#s5-p4">Summary</a></li>
                        </ul>
                    </li>
                    <li><a href="#reference">References</a></li>
                </ul>
            </nav>
        </div>
        <div class="overflow-auto container-fluid">
            <h1 class="mt-3 mb-5" id="title">Problem 4: Exploring and Visualizing Flow Data</h1>
            <div class="row">
                <div class="col-sm-4 mb-3 mb-md-0">
                    <div class="card text-dark h-100 ">
                        <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c6-f8.gif" class="card-img-top" alt="Streamlines Animation">
                        <div class="card-body">
                            <h5 class="card-title">Velocity</h5>
                            <p class="card-text">We used Streamlines Animation to summarize water flow shape.</p>
                        </div>
                        <div class="card-footer">
                            <a href="#s3-c8-f10-tab" class="btn btn-success ref-figure">Demo</a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4 mb-3 mb-md-0">
                    <div class="card text-dark h-100 ">
                        <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c3-f6.png" class="card-img-top" alt="Vorticity Isocontour">
                        <div class="card-body">
                            <h5 class="card-title">Vorticity</h5>
                            <p class="card-text">We used Vorticity Isocontour to identify the water vorticity distribution.</p>
                        </div>
                        <div class="card-footer">
                            <a href="#s4-c5-f8-tab" class="btn btn-success ref-figure">Demo</a>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="card h-100">
                        <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c2-f4.png" class="card-img-top" alt="Streamlines Animation Output">
                        <div class="card-body">
                            <h5 class="card-title">Speed</h5>
                            <p class="card-text">We used Speed Isocontour to identify the water speed distribution.</p>
                        </div>
                        <div class="card-footer">
                            <a href="#s4-c5-f9-tab" class="btn btn-success ref-figure">Demo</a>
                        </div>
                    </div>
                </div>
            </div>
            <h2 id="s1">Section 1: Problem Domain</h2>
            <hr class="solid">
            <div class="card text-center mb-3 mx-auto" id="s1-c1">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s1-c1-f1-tab" data-bs-toggle="tab" data-bs-target="#s1-c1-f1" type="button" role="tab" aria-controls="s1-c1-f1" aria-selected="true">Figure 1.1</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s1-c1-f1" role="tabpanel" aria-labelledby="s1-c1-f1-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s1-c1-f1.gif" alt="Schematic Diagram of the water flowing through a channel">
                            <p class="caption">Figure 1.1: Schematic Diagram of the water flowing through a channel</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                The problem for this report is to explore, visualize and also investigate the behavior of the water flow data flowing through a channel caused by the winds acting upon the open surface of the water which then creates turbulences inside the water. Movements
                of water particles that were caused by the winds were calculated in a supercomputing class by Lloyd Fosdick, University of Colorado, in 1992. The file <code>field2.dat</code> allows casting the planar flow of the water,
                which describes the particle movement in a 2D slice perpendicular to the length of the channel. The data is given for a regular 82 by 82 grid in the following format: starting position (<code>x</code>, <code>y</code>, <code>z</code>) and
                relative movement (<code>u</code>, <code>v</code>, <code>w</code>). Further explanation of the data will be explored in <a href="#s2">Section 2</a>.
            </p>
            <p class="paragraph">
                There are several advantages and disadvantages found when working with this dataset using ParaView.
            </p>
            <p>
                Advantages of using ParaView to visualize this dataset:
            </p>
            <ol>
                <li>Allows users to write a Python script that enables importing data with the customized format in ParaView’s <code>Programmable Source</code>.</li>
                <li>State files can be used to save a session to be restarted from it later.</li>
                <li>Highly customizable & flexible features & options in visualization such as a variety of colors, scale value, opacity, etc.</li>
                <li>Enables editing useful visualization idioms in an interactive manner that provides natural insights.</li>
                <li>Open source, which allows the community to constantly update some high-quality features of ParaView.</li>
            </ol>
            <p>
                Disadvantages of using ParaView to visualize this dataset:
            </p>
            <ol>
                <li>Insufficient documentation on exporting animation to interactive <code>.x3d</code> or <code>.vtkjs</code> file, which allows interaction on the 3D model in a browser.</li>
                <li>Advance scripting and development knowledge required to further enhance Visualization Toolkit.</li>
                <li>Highly customizable & flexible features & options in visualization such as a variety of colors, scale value, opacity, etc.</li>
                <li>Dependent on online information, such as online tutorials and documentations.</li>
                <li>Memory intensive, sometimes causing low-spec laptops to restart the program during development.</li>
            </ol>
            <div class="card text-center mb-3 mx-auto" id="s1-c2">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s1-c2-f2-tab" data-bs-toggle="tab" data-bs-target="#s1-c2-f2" type="button" role="tab" aria-controls="s1-c2-f2" aria-selected="true">Figure 1.2</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s1-c2-f2" role="tabpanel" aria-labelledby="s1-c2-f2-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c6-f8.gif" alt="Streamlines Animation">
                            <p class="caption">Figure 1.2: Visual Overview of the Data</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                The flow patterns of the water flow data are visualized in ParaView. The idiom used for the visual overview of the data is the Streamlines Animation, which shows the flow direction as well as the velocity of the flow. As we can see from
                <a href="#s1-c2-f2-tab" class="ref-figure">Figure 1.2</a>, the flow has a critical point with circulating sources behavior, which is the point where the velocity vanishes in the center of the flow field. There is a diagonal line acting
                as the line of symmetry of this flow pattern as shown in <a href="#s3-c2-f3-tab" class="ref-figure">Figure 3.3</a> where the velocity magnitude lies symmetrically from both sides of the line. The ParaView visualization pipeline of the
                water flow and the detailed behavior of water flow including critical points and axis of symmetry will be further discussed in <a href="#s3">Section 3</a>. Colors are used to visualize the speed of the water flow. We can see that the quickest
                movements of the flows are the ones with the highest velocity magnitude values in white, and the slowest movements of the flows are the lowest velocity magnitude in black. Other details of the scalar quantities such as Speed, Vorticity
                of water flow, and also the visualization pipeline will then be explored in <a href="#s4">Section 4</a>.
            </p>



            <h2 id="s2">Section 2: Importing Data</h2>
            <hr class="solid">
            <p class="paragraph">
                The dataset to be visualized in ParaView is named <code>field2.dat</code>. Before importing the data, we have opened the file using a notepad to examine its attributes and instances, and we found out that it has six attributes, which are
                <code>x</code>, <code>y</code>, <code>z</code>, <code>u</code>, <code>v</code>, and <code>w</code>. Then, we used <code>Programmable Source</code> in ParaView to write a Python script in order to convert the dataset to have the right format.
                We ignore the first 6 rows when importing the data because they contained the metadata that tells the dimension of the data. As you may be aware, ParaView’s <code>Programmable Source</code> allows us to directly import the data without
                employing other tools (such as Microsoft Excel) to reformat the data. Moreover, we selected <code>vtkTable</code> as it can output a basic data structure for storing columns of data. The name “vtk” stands for “Visualization Toolkit” in
                which to provide the visualization and data processing model in ParaView <a href="#ref1" id="unref1" class="ref-link">[1]</a>. The steps of importing the data are listed below:
            </p>
            <ol class="steps">
                <li>Download <code>field2.dat</code> from <a href="https://elearning.usm.my/sidang2122/pluginfile.php/49103/mod_folder/content/0/Flow-Data/field2.dat?forcedownload=1" target="_blank">E-learn</a>
                </li>
                <li>Open ParaView</li>
                <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search source: <code>Programmable Source</code>, and then press <span class="kbd">Enter</span></li>
                <li>Under <code class="code-prop">Properties</code> and <code class="code-prop">Output Data Set Type</code>, select <code>vtkTable</code></li>
                <li>Under <code class="code-prop">Properties</code>, paste this script below to the script textbox and replace the <code>path</code> variable to the location of the <code>field2.dat</code> file:
                    <div class="code-area mt-3">
                        <iframe src="https://carbon.now.sh/embed?bg=rgba%28204%2C204%2C204%2C1%29&t=seti&wt=none&l=python&ds=false&dsyoff=20px&dsblur=35px&wc=true&wa=true&pv=7px&ph=5px&ln=false&fl=1&fm=Hack&fs=14px&lh=128%25&si=false&es=2x&wm=false&code=import%2520numpy%2520as%2520np%250A%250Apath%2520%253D%2520r%27path%255Cto%255Cfield2.dat%27%250Acolname%2520%253D%2520%255B%27x%27%252C%2520%27y%27%252C%2520%27z%27%252C%2520%27u%27%252C%2520%27v%27%252C%2520%27w%27%255D%250A%250Adata%2520%253D%2520np.genfromtxt%28path%252C%2520dtype%253DNone%252C%2520names%253Dcolname%252C%2520delimiter%253D%27%2520%27%252C%2520skip_header%253D6%29%250Afor%2520name%2520in%2520data.dtype.names%253A%250A%2520%2520%2520array%2520%253D%2520data%255Bname%255D%250A%2520%2520%2520output.RowData.append%28array%252C%2520name%29"
                            frameborder="0" allowfullscreen sandbox="allow-scripts allow-same-origin">
                        </iframe>
                    </div>
                </li>
                <li>Click Apply</li>
            </ol>
            <p class="paragraph">
                After importing the dataset, our next step is to compute the velocity vector of the water particles. The velocities <code>u</code>, <code>v</code>, and <code>w</code> are stored in different variables, which can be brought together using
                this formula: velocity, \( \vec{v} = u \hat{i} + v \hat{j} + w \hat{k} \). By multiplying with unit vectors (i.e., \(\hat{i}\), \(\hat{j}\), and \(\hat{k}\)), one can know both magnitude and direction, where \(\hat{i}\), \(\hat{j}\), and
                \(\hat{k}\) represent the axes of a Cartesian coordinate system. Meanwhile, the <code>Result Array Name</code> refers to the fact that the computed value will be created for each point or cell. In addition, we have used <code>Table to Structured Grid</code>                as it allows for regular topology and irregular geometry, which is suitable to visualize water flow <a href="#ref2" class="ref-link" id="unref2">[2]</a>. The steps of computing velocity, \(\vec{v}\) and converting <code>Table to Structured Grid</code>                are shown as follows.
            </p>
            <ol class="steps">
                <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>ProgrammableSource1</code></li>
                <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>Calculator</code>, and then press <span class="kbd">Enter</span></li>
                <li>Under <code class="code-prop">Properties</code>, <code>Result Array Name</code>, Type <code>Velocity</code></li>
                <li>Under <code class="code-prop">Properties</code>, below the <code>Result Array Name</code>, Type the formula <code>u*iHat + v*jHat + w*kHat</code></li>
                <li>Click Apply</li>
                <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>Calculator1</code></li>
                <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>Table to Structured Grid</code>, and then press <span class="kbd">Enter</span></li>
                <li>Under <code class="code-prop">Properties</code>, <code>Whole Extent</code>, fill up <code>81</code> at the first 2 rows of the right column</li>
                <li>Under <code class="code-prop">Properties</code>, match <code>X Column</code> as <code>x</code>, <code>Y Column</code> as <code>y</code>, and <code>Z Column</code> as <code>z</code></li>
                <li>Close SpreadSheet view and Click Apply</li>
            </ol>
            <h2 id="s3">Section 3: Exploring the Water Flow</h2>
            <hr class="solid">
            <h3 id="s3-p1">Behaviour of water flow</h3>
            <p class="paragraph">
                When designing a channel, an engineer needs to investigate or explore its water flow behavior. Closed channels and open channels have different water flow behavior, therefore different design techniques are needed. The water flow of the closed channel
                is mostly uniform whereas the water flow of the open channel is mostly turbulent due to wind or atmospheric pressure. In this problem, we are dealing with the open channel, therefore we want to investigate how the wind affected the water
                flow inside the open channel by using a visual analytic approach. To get the overall water flow behavior inside the open channel, we first created a glyph arrow chart using the pre-processed datasets as shown in <a href="#s3-c1-f1-tab"
                    class="ref-figure">Figure 3.1</a>.
            </p>
            <div class="card text-center mb-3 mx-auto" id="s3-c1">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s3-c1-f1-tab" data-bs-toggle="tab" data-bs-target="#s3-c1-f1" type="button" role="tab" aria-controls="s3-c1-f1" aria-selected="true">Figure 3.1</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s3-c1-f2-tab" data-bs-toggle="tab" data-bs-target="#s3-c1-f2" type="button" role="tab" aria-controls="s3-c1-f2" aria-selected="false">Figure 3.2</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s3-c1-f1" role="tabpanel" aria-labelledby="s3-c1-f1-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c1-f1.jpg" alt="Unscaled Glyph Arrow Chart">
                            <p class="caption">Figure 3.1: Unscaled Glyph Arrow Chart</p>
                        </div>
                        <div class="tab-pane fade" id="s3-c1-f2" role="tabpanel" aria-labelledby="s3-c1-f2-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c1-f2.jpg" alt="Overall water whirling toward the center">
                            <p class="caption">Figure 3.2: Overall water whirling toward the center</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                Glyph arrow chart shows the water velocity which includes the speed and the direction of water flow. In fact, velocity is the rate of change of water particle movement where a larger particle movement in a given time unit implies a faster flow. We use
                glyph arrows to show the direction of water flow, and color luminance to indicate the speed of the water flow, in which a slow-moving water particle is represented by a dark color arrow, while a fast-moving particle is shown as a bright
                color arrow. Generally, we can easily see that the water is spirally flowing towards the center of the channel in a clockwise direction as indicated in <a href="#s3-c1-f2-tab" class="ref-figure">Figure 3.2</a>.
            </p>
            <div class="card text-center mb-3 mx-auto" id="s3-c2">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s3-c2-f3-tab" data-bs-toggle="tab" data-bs-target="#s3-c2-f3" type="button" role="tab" aria-controls="s3-c2-f3" aria-selected="true">Figure 3.3</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s3-c2-f4-tab" data-bs-toggle="tab" data-bs-target="#s3-c2-f4" type="button" role="tab" aria-controls="s3-c2-f4" aria-selected="false">Figure 3.4</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s3-c2-f3" role="tabpanel" aria-labelledby="s3-c2-f3-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c2-f3.jpg" alt="Symmetry axis of velocity magnitude">
                            <p class="caption">Figure 3.3: Symmetry axis of velocity magnitude</p>
                        </div>
                        <div class="tab-pane fade" id="s3-c2-f4" role="tabpanel" aria-labelledby="s3-c2-f4-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c2-f4.jpg" alt="Critical Point of velocity magnitude">
                            <p class="caption">Figure 3.4: Critical Point of velocity magnitude</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                Moreover, the diagonal line as shown in <a href="#s3-c2-f3-tab" class="ref-figure">Figure 3.3</a> shows the axis of symmetry of the water in the open channel. We found the axis of symmetry by observing the water velocity magnitude. According
                to <a href="#s3-c2-f3-tab" class="ref-figure">Figure 3.3</a>, the velocity magnitude is symmetrically lying on both sides of the diagonal lines. For instance, despite the top surface when the water is at its maximum velocity, water on
                the middle top has a similar velocity magnitude to the middle right. We observed that the water velocity is the fastest at the top surface, then slightly slower in the outer ring and gradually reduces when approaching from the inner ring
                to the center of the channel. In short, we can tell the wind above the uncovered water canal strongly affects the movement of water flow. The center of the channel can be considered as a critical point where the velocity of the flow vanishes,
                it is represented by a green dot as shown in <a href="#s3-c2-f4-tab" class="ref-figure">Figure 3.4</a>.
            </p>
            <div class="card text-center mb-3 mx-auto" id="s3-c3">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s3-c3-f5-tab" data-bs-toggle="tab" data-bs-target="#s3-c3-f5" type="button" role="tab" aria-controls="s3-c3-f5" aria-selected="true">Figure 3.5</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s3-c3-f5" role="tabpanel" aria-labelledby="s3-c3-f5-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c3-f5.jpeg" alt="Water slowly flows in different directions on the boundary wall">
                            <p class="caption">Figure 3.5: Water slowly flows in different directions on the boundary wall</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                According to the glyph arrow chart, we also observed that the water particle at the boundary wall tends to flow in the opposite direction of the general water flow as shown in <a href="#s3-c3-f5-tab" class="ref-figure">Figure 3.5</a>.
                We suspect that there is a frictional force or drag force acted upon the water particle when water flows along the boundary wall. This also explains why the water velocity at the boundary wall is slower. It is also possible that the water
                particles hit on the boundary wall and bounce back to another direction, which generates small anticlockwise flows on both bottom corners.
            </p>
            <h3 id="s3-p2">Visualization Improvement</h3>
            <p class="paragraph">
                We played around with different visualization options that are available in ParaView. While preserving the existing information, such as magnitude, symmetry axis, and critical point of the velocity at each coordinate, we can further upgrade the visualization
                with a more effective idiom.
            </p>
            <div class="card text-center mb-3 mx-auto" id="s3-c4">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s3-c4-f6-tab" data-bs-toggle="tab" data-bs-target="#s3-c4-f6" type="button" role="tab" aria-controls="s3-c4-f6" aria-selected="true">Figure 3.6</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s3-c4-f6" role="tabpanel" aria-labelledby="s3-c4-f6-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c4-f6.jpg" alt="Scaled Glyph Arrow Chart">
                            <p class="caption">Figure 3.6: Scaled Glyph Arrow Chart</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                To better visualize the water velocity in the open channel, we improve the glyph arrow charts by scaling the arrow size according to the velocity magnitude, meaning that the longer and larger arrow implies faster flow as shown in <a href="#s3-c4-f6-tab"
                    class="ref-figure">Figure 3.6</a>. According to <a href="#s3-c4-f6-tab" class="ref-figure">Figure 3.6</a>, we can easily notice that the water flow at the top of the channel has the maximum velocity whereas the water flow at the center
                of the channel has the minimum velocity. The following steps are taken to produce this chart:
            </p>
            <div class="row" id="s3-c4-s">
                <div class="col-lg-8 order-2 order-lg-1">
                    <ol class="steps">
                        <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>TableToStructuredGrid1</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>Glyph</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Orientation</code>, select <code>Orientation Array</code> by <code>Velocity</code></li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Scale</code>, select <code>Scale Array</code> by <code>Velocity</code> and input <code>Scale Factor</code> to 0.4</li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Masking</code>, input the <code>Maximum Number of Sample Points</code> 400</li>
                        <li>Click Apply</li>
                        <li>Under <code class="code-prop">Properties</code>, select <code>Coloring</code> as <code>Vorticity</code>, and edit color mapping to <span class="color-preview" style="background-image: linear-gradient(to right, black, blue, white); width: 3em; border-radius: 5px;"></span>                            <code>Black, Blue and White</code></li>
                    </ol>
                </div>
                <div class="col-lg-4 order-1 order-lg-2 side-image">
                    <div>
                        <img class="img-ss" src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/ss3-6.jpg" alt="Screenshot of visualization pipeline for Scaled Glyph Arrow Chart">
                        <p class="caption">Screenshot of visualization pipeline for Scaled Glyph Arrow Chart</p>
                    </div>
                </div>
            </div>
            <div class="card text-center mb-3 mx-auto" id="s3-c5">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s3-c5-f7-tab" data-bs-toggle="tab" data-bs-target="#s3-c5-f7" type="button" role="tab" aria-controls="s3-c5-f7" aria-selected="true">Figure 3.7</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s3-c5-f7" role="tabpanel" aria-labelledby="s3-c5-f7-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c5-f7.jpg" alt="Evenly Spaced 2D Streamline">
                            <p class="caption">Figure 3.7: Evenly Spaced 2D Streamline</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                Furthermore, we have used Evenly Spaced Streamline 2D to visualise the flow of water particles. The reason for using it is because it avoids the streamlines crowding by discarding the streamline if it is too close to other streamlines. Hence, it can address
                the visualization issue of separability that makes visualization more effective. There are two things we can notice clearer from the idiom, the first is that, for the most part, water particles flow is in circular motion, where the circular
                flow radius getting smaller toward the center, and the other is that the velocity magnitude is getting less when it is getting closer toward the centre. The steps of implementing Evenly Spaced Streamline 2D are described as follows.
            </p>
            <div class="row" id="s3-c5-s">
                <div class="col-lg-8 order-2 order-lg-1">
                    <ol class="steps">
                        <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>TableToStructuredGrid1</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>Evenly Spaced Streamline 2D</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Streamline Parameters</code>, remain the default options</li>
                        <li>Under <code class="code-prop">Properties</code>, adjust the <code>Line Width</code> to 5</li>
                        <li>Under <code class="code-prop">Properties</code>, select <code>coloring</code> as <code>Velocity</code> and as <code>Magnitude</code></li>
                        <li>Under <code class="code-prop">Properties</code>, click edit coloring, and then select mapping data to <span class="color-preview" style="background-image: linear-gradient(to right, black, blue, white); width: 3em; border-radius: 5px;"></span>                            <code>Black, Blue and White</code></li>
                        <li>Click Apply</li>
                    </ol>
                </div>
                <div class="col-lg-4 order-1 order-lg-2 side-image">
                    <div>
                        <img class="img-ss" src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/ss3-7.jpg" alt="Screenshot of visualization pipeline for Evenly Spaced 2D Streamline">
                        <p class="caption">Screenshot of visualization pipeline for Evenly Spaced 2D Streamline</p>
                    </div>
                </div>
            </div>
            <div class="card text-center mb-3 mx-auto" id="s3-c6">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s3-c6-f8-tab" data-bs-toggle="tab" data-bs-target="#s3-c6-f8" type="button" role="tab" aria-controls="s3-c6-f8" aria-selected="true">Figure 3.8</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s3-c6-f8" role="tabpanel" aria-labelledby="s3-c6-f8-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c6-f8.gif" alt="Streamlines Animation">
                            <p class="caption">Figure 3.8: Streamlines Animation</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                In addition, we also created an animation to visualize the water flow of the open channel as shown below, by assuming a zero acceleration in water flow. This helps to visualize the time component of the data, for instance, we can visualize the water flow
                direction over time and water velocity over time. We believe this is the best visualization to explore the water flow behavior, we will discuss the reasoning in the <a href="#s3-p3">next subchapter</a> and <a href="#s5">section 5</a>.
                The following steps are taken to produce this chart:
            </p>
            <div class="row" id="s3-c6-s">
                <div class="col-lg-8 order-2 order-lg-1">
                    <ol class="steps">
                        <li>Select <code>Manage Plugins…</code> from <code>Tools</code> in the menu bar</li>
                        <li>Load the <code>Streamlines Representation</code> plugin</li>
                        <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>TableToStructuredGrid1</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>Gradient</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Click Apply</li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Display</code>, select <code>Representation</code> by <code>Stream Lines</code></li>
                        <li>Under <code class="code-prop">Properties</code>, select <code>coloring</code> as <code>Velocity</code> and as <code>Magnitude</code></li>
                        <li>Under <code class="code-prop">Properties</code>, click edit coloring, and then select mapping data to <span class="color-preview" style="background-image: linear-gradient(to right, black, blue, white); width: 3em; border-radius: 5px;"></span><code>Black, Blue and White</code></li>
                    </ol>
                </div>
                <div class="col-lg-4 order-1 order-lg-2 side-image">
                    <div>
                        <img class="img-ss" src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/ss3-8.jpg" alt="Screenshot of visualization pipeline for Streamlines Animation">
                        <p class="caption">Screenshot of visualization pipeline for Streamlines Animation</p>
                    </div>
                </div>
            </div>
            <h3 id="s3-p3">Selection of methods, parameters & tools</h3>
            <div class="card text-center mb-3 mx-auto" id="s3-c7">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s3-c7-f9-tab" data-bs-toggle="tab" data-bs-target="#s3-c7-f9" type="button" role="tab" aria-controls="s3-c7-f9" aria-selected="true">Figure 3.9</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s3-c7-f9" role="tabpanel" aria-labelledby="s3-c7-f9-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c7-f9.gif" alt="Streamlines in dark colour becoming brighter when reaching top surface">
                            <p class="caption">Figure 3.9: Streamlines in dark color becoming brighter when reaching top surface</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                We used <code>Streamline Representation</code> to show the behavior of water flow. This is because it has a clear intuition to show how the water flows and how fast the water flows. One of the reasons is the water movement in this 2D slice
                aligns exactly with the 2D representation on the computer screen. We can simplify the visualization process that without interaction with the 3D model to inspect the water flow properties. Moreover, from <a href="#s3-c7-f9-tab" class="ref-figure">Figure 3.9</a>                above, the streamlines’ color is dynamic according to the velocity magnitude, where we can see how the water particles change their speed when reaching a particular spot.
            </p>
            <p class="paragraph">
                Furthermore, by using this <code>Streamlines Representation</code>, we can intuitively visualize the direction of water flow based on the position of the same particles at different timesteps. Based on Munzner <a href="#ref3" class="ref-link"
                    id="unref3">[3]</a>, the position on the common scale is the most effective visual channel. In our case, every point in the image has a common scale on X-axis and Y-axis, hence the relative movement of each point can be easily perceived.
            </p>
            <p class="paragraph">
                In addition, we used a monochromatic color scheme to represent the velocity magnitude, because the color luminance (brightness) is a good representation to visualize the scale especially in a single ordered direction (i.e., zero to one). In this visualization,
                we used a <span class="color-preview" style="background-image: linear-gradient(to right, black, blue, white); width: 3em; border-radius: 5px;"></span> <code>Black, Blue and White</code> color palette to visualize the velocity
                magnitude, in which we can easily differentiate the fastest & slowest flow with its color luminance and find its critical point. Moreover, the velocity magnitude is a continuous scale, hence we avoid using a harmonic color scheme because
                the different hue of the colors does not yield any meaning to the magnitude scale.
            </p>
            <p class="paragraph">
                Moreover, for <code>Evenly Spaced 2D Streamline</code> (<a href="#s3-c5-f7-tab" class="ref-figure">Figure 3.7</a>) and <code>Streamlines Representation</code> animation (<a href="#s3-c6-f8-tab" class="ref-figure">Figure 3.8</a>), we adjust
                the line width of the streamlines to 5 to make it more distinguishable and noticeable. By doing so, we can easily see how the streamline changes its color when the velocity changes.
            </p>
            <h3 id="s3-p4"><span style="text-decoration: line-through;">Interactive</span> Demo</h3>
            <ul>
                <li>This section is prepared for the live inspection on the water flow behavior</li>
                <li>Unfortunately, we failed to export an interactive model for <code>Streamlines Representation</code> Animation, due to insufficient documentation on this new feature in ParaView.</li>
            </ul>
            <div class="card text-center mb-3 mx-auto" id="s3-c8">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s3-c8-f10-tab" data-bs-toggle="tab" data-bs-target="#s3-c8-f10" type="button" role="tab" aria-controls="s3-c8-f10" aria-selected="true">Streamlines Representation</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s3-c8-f10" role="tabpanel" aria-labelledby="s3-c8-f10-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c6-f8.gif" alt="Streamlines Animation" style="width: 100%;">
                        </div>
                    </div>
                </div>
            </div>
            <h3 id="s3-p5"><a href="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/pvsm/Section 3.pvsm" download>ParaView state file for Section 3</a></h3>
            <h2 id="s4">Section 4: Exploring the Magnitude of Water Flow</h2>
            <hr class="solid">
            <h3 id="s4-p1">Gradient of Derived Scalar Quantities</h3>
            <div class="card text-center mb-3 mx-auto" id="s4-c1">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s4-c1-f1-tab" data-bs-toggle="tab" data-bs-target="#s4-c1-f1" type="button" role="tab" aria-controls="s4-c1-f1" aria-selected="true">Figure 4.1</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s4-c1-f2-tab" data-bs-toggle="tab" data-bs-target="#s4-c1-f2" type="button" role="tab" aria-controls="s4-c1-f2" aria-selected="false">Figure 4.2</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s4-c1-f1" role="tabpanel" aria-labelledby="s4-c1-f1-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c1-f1.png" alt="Vorticity Gradient Chart">
                            <p class="caption">Figure 4.1: Vorticity Gradient Chart</p>
                        </div>
                        <div class="tab-pane fade" id="s4-c1-f2" role="tabpanel" aria-labelledby="s4-c1-f2-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c1-f2.png" alt="Speed Gradient Chart">
                            <p class="caption">Figure 4.2: Speed Gradient Chart</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                There are two scalar quantities derived from the vector fields, which are <strong>vorticity</strong> magnitude and <strong>velocity</strong> magnitude (speed). Vorticity describes the magnitude of water particles’ whirling motion. The
                reason vorticity is considered as the scalar field is because, in a two-dimensional flow, vorticity is always perpendicular to the plane of the flow <a href="#ref4" class="ref-link" id="unref4">[4]</a>. Moreover, vorticity, in fact, is
                not directly observable and the presence of vorticity is unexpected while in others it is surprisingly absent. Hence, we should use visualization tools to identify which location has high vorticity of fluid. According to <a href="#s4-c1-f1-tab"
                    class="ref-figure">Figure 4.1</a>, the upper left and upper right have the highest observed vorticity magnitude compared to the rest of the locations. On the other hand, speed describes how fast the water particles move. As depicted in
                <a href="#s4-c1-f2-tab" class="ref-figure">Figure 4.2</a>, the idiom shows it has the highest speed at the top and we can also notice the water particles have zero speed or near zero at the center. It is also interesting to notice that
                the visualization idiom also indicates that all water particles in the channel have vorticity magnitude, rather than the speed magnitude range that starts from zero. One of the reasons is that, according to MIT, the particles of the atoms
                of water are always spin <a href="#ref5" class="ref-link" id="unref5">[5]</a>.
            </p>
            <p class="paragraph">
                Now let’s describe the rationale in choosing the visualization tools for vorticity visualization idiom in <a href="#s4-c1-f1-tab" class="ref-figure">Figure 4.1</a>. Firstly, <code>Warp by Scalar</code> filter is used as it allows translates
                the points of the input data set along a vector by a distance determined by the specified scalars <a href="#ref6" class="ref-link" id="unref6">[6]</a>. Moreover, the <code>XY Plane</code> selected to allow visualize all vorticity according
                to X and Y axis. Next, we have selected output vector type as <code>Vorticity</code> due to it allows to extract the vorticity of the computed vector gradient tensor of the fluid. In addition, we have use applied log scale when mapping
                data to colors as the vorticity magnitude is skewed to the minimum and there are only a few points are much larger than the bulk of the data, which causing an issue of lacking visualisation separability if default option selected. The
                steps of getting the vorticity visualization idiom in <a href="#s4-c1-f1-tab" class="ref-figure">Figure 4.1</a> are as follows, which is a continuation after <a href="#s2">Section 2</a>.
            </p>
            <div class="row">
                <div class="col-lg-8 order-2 order-lg-1">
                    <ol class="steps">
                        <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>TableToStructuredGrid1</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>warp by scalar</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Under <code class="code-prop">Properties</code>, tick <code>XY Plane</code></li>
                        <li>Click Apply</li>
                        <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>Warp by Scalar</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>compute derivative</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Under <code class="code-prop">Properties</code>, select <code>Output Vector Type</code> as <code>Vorticity</code></li>
                        <li>Under <code class="code-prop">Properties</code>, select <code>Coloring</code> as <code>Vorticity</code>, and edit color mapping to <span class="color-preview" style="background-image: linear-gradient(to right, black, blue, white); width: 3em; border-radius: 5px;"></span>                            <code>Black, Blue and White</code></li>
                        <li>Tick <code>Use Log Scale When Mapping Data to Colors</code></li>
                        <li>Click Apply</li>
                    </ol>
                </div>
                <div class="col-lg-4 order-1 order-lg-2 side-image">
                    <div>
                        <img class="img-ss" src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/ss4-1.png" alt="Screenshot of visualization pipeline for Vorticity Gradient Chart">
                        <p class="caption">Screenshot of visualization pipeline for Vorticity Gradient Chart</p>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                To describe the rationale in choosing the visualization tools for speed visualization idiom in <a href="#s4-c1-f2-tab" class="ref-figure">Figure 4.2</a>, we have used Pythagorean Theorem formula \(\sqrt{u^2+v^2+w^2} \) as it allows to
                compute the magnitude of speed. The steps of getting speed visualization as depicted in <a href="#s4-c1-f2-tab" class="ref-figure">Figure 4.2</a> are as follows, which is a continuation as mentioned above.
            </p>
            <div class="row">
                <div class="col-lg-8 order-2 order-lg-1">
                    <ol class="steps">
                        <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>ProgrammableSource1</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>calculator</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Under <code class="code-prop">Properties</code>, <code>Result Array Name</code>, type <code>Speed</code></li>
                        <li>At the below of the <code>Result Array Name</code>, enter this formula <code>sqrt((u^2) +(v^2) +(w^2))</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>Table to Structured Grid</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Under <code class="code-prop">Properties</code>, <code>Whole Extent</code>, fill up <code>81</code> at the first 2 rows of the right column</li>
                        <li>Under <code class="code-prop">Properties</code>, match <code>X Column</code> as <code>x</code>, <code>Y Column</code> as <code>y</code>, and <code>Z Column</code> as <code>z</code></li>
                        <li>Under <code class="code-prop">Properties</code>, change <code>Coloring</code> to <code>Speed</code>, and edit color mapping to <span class="color-preview" style="background-image: linear-gradient(to right, black, blue, white); width: 3em; border-radius: 5px;"></span><code>Black, Blue and White</code></li>
                        <li>Click Apply</li>
                    </ol>
                </div>
                <div class="col-lg-4 order-1 order-lg-2 side-image">
                    <div>
                        <img class="img-ss" src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/ss4-2.png" alt="Screenshot of visualization pipeline for Speed Gradient Chart">
                        <p class="caption">Screenshot of visualization pipeline for Speed Gradient Chart</p>
                    </div>
                </div>
            </div>
            <h3 id="s4-p2">Contours of the Scalar Quantities</h3>
            <div class="card text-center mb-3 mx-auto" id="s4-c2">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s4-c2-f3-tab" data-bs-toggle="tab" data-bs-target="#s4-c2-f3" type="button" role="tab" aria-controls="s4-c2-f3" aria-selected="true">Figure 4.3</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s4-c2-f4-tab" data-bs-toggle="tab" data-bs-target="#s4-c2-f4" type="button" role="tab" aria-controls="s4-c2-f4" aria-selected="false">Figure 4.4</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s4-c2-f3" role="tabpanel" aria-labelledby="s4-c2-f3-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c2-f3.png" alt="Contour of Speed Magnitude at 10 isolines">
                            <p class="caption">Figure 4.3: Contour of Speed Magnitude at 10 isolines</p>
                        </div>
                        <div class="tab-pane fade" id="s4-c2-f4" role="tabpanel" aria-labelledby="s4-c2-f4-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c2-f4.png" alt="Contour of Speed Magnitude at 30 isolines">
                            <p class="caption">Figure 4.4: Contour of Speed Magnitude at 30 isolines</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card text-center mb-3 mx-auto" id="s4-c3">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s4-c3-f5-tab" data-bs-toggle="tab" data-bs-target="#s4-c3-f5" type="button" role="tab" aria-controls="s4-c3-f5" aria-selected="true">Figure 4.5</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s4-c3-f6-tab" data-bs-toggle="tab" data-bs-target="#s4-c3-f6" type="button" role="tab" aria-controls="s4-c3-f6" aria-selected="false">Figure 4.6</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s4-c3-f5" role="tabpanel" aria-labelledby="s4-c3-f5-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c3-f5.png" alt="Contour of Vorticity Magnitude at 10 isolines">
                            <p class="caption">Figure 4.5: Contour of Vorticity Magnitude at 10 isolines</p>
                        </div>
                        <div class="tab-pane fade" id="s4-c3-f6" role="tabpanel" aria-labelledby="s4-c3-f6-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c3-f6.png" alt="Contour of Vorticity Magnitude at 30 isolines">
                            <p class="caption">Figure 4.6: Contour of Vorticity Magnitude at 30 isolines</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                Next, we have applied contours on the speed and vorticity scalar fields. In this case, the contours are used to extract isolines from the selected field. <a href="#s4-c2-f3-tab" class="ref-figure">Figure 4.3</a> and <a href="#s4-c2-f4-tab"
                    class="ref-figure">Figure 4.4</a> show the contours of speed magnitude at 10 and 30 isolines respectively. One observation we can notice is that some isolines are far apart from each other and some are close together. When the isolines
                are close together it describes a steep slope or, in that case, indicates the water particles’ speed has a high amount of change over distance, and vice versa. We can notice that the top and at the upper right of the visualization idiom
                have a high gradient in which the isolines are close together. Besides, the color saturation channel is used to visualize the speed magnitude. We can notice that the speed reaches its maximum at the top, meanwhile near to zero or zero
                at the center and as well near to the boundary wall. The reasons for it have been described in <a href="#s3">Section 3</a>. Similarly, for the contours on vorticity as depicted in <a href="#s4-c3-f5-tab" class="ref-figure">Figure 4.5</a>                and <a href="#s4-c3-f6-tab" class="ref-figure">Figure 4.6</a>, we can observe that the isolines are close together at the top as well, which indicates that the change of vorticity is higher. Color Saturation is also used to visualize the
                vorticity magnitude. As <a href="#s4-c3-f5-tab" class="ref-figure">Figure 4.5</a> and <a href="#s4-c3-f6-tab" class="ref-figure">Figure 4.6</a> shown, it has high vorticity magnitude at the top part of the water particles and has the highest
                at the top corners. This is due to the force exerted at the top upon the water particles, which causes the particles to get higher energy to spin faster.
            </p>
            <p class="paragraph">
                To describe the rationale in choosing the visualization tools for contours of speed idiom in <a href="#s4-c2-f3-tab" class="ref-figure">Figure 4.3</a>, we have used Contour to extract isolines from the surface. We have used <code>Add a Range of Values</code>                as it allows to generate a number of isolines rather than just a single isoline. We have used 10 and 30 samples to visualize the contours because it allows justifying which area isolines are far apart or close together with each other.
                If we choose a number of samples such as 99, then we cannot justify the isolines' distance with each other as it appears as a gradient surface. Moreover, the default line width is quite thin that is hard to notice, hence we have increased
                their line width to 5. In addition, we have applied a log scale when mapping data to colors as, to repeat, the vorticity magnitude is skewed to the minimum, which is hard to be visualized if the default option is selected. The steps of
                visualizing the contours visualization idiom for speed for <a href="#s4-c2-f3-tab" class="ref-figure">Figure 4.3</a> and <a href="#s4-c2-f4-tab" class="ref-figure">Figure 4.4</a> are listed as follows, which is a continuation of the steps
                mentioned above.
            </p>
            <div class="row">
                <div class="col-lg-8 order-2 order-lg-1">
                    <ol class="steps">
                        <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>TableToStructuredGrid2</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>Contour</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Under <code class="code-prop">Properties</code>, select <code>Contour</code> by <code>Speed</code></li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Styling</code>, adjust <code>Line Width</code> to 5</li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Isosurfaces</code>, click <code>Add a range of values</code></li>
                        <li>At the pop up text box of <code>Number of Samples</code>, enter 10</li>
                        <li>Click Apply</li>
                        <li>Under the <code class="code-prop">Pipeline Browser</code>, rename <code>Contour1</code> to <code>Contour_Speed_10</code>, and select <code>TableToStructuredGrid2</code></li>
                        <li>Repeat Step 2 to Step 5, and enter 30 at the text box of <code>Number of Samples</code></li>
                        <li>Under the <code class="code-prop">Pipeline Browser</code>, rename <code>Contour1</code> to <code>Contour_Speed_30</code></li>
                        <li>Click Apply</li>
                    </ol>
                </div>
                <div class="col-lg-4 order-1 order-lg-2 side-image">
                    <div>
                        <img class="img-ss" src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/ss4-3.png" alt="Screenshot of visualization pipeline for Speed Isocontour">
                        <p class="caption">Screenshot of visualization pipeline for Speed Isocontour</p>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                The steps of visualizing the contours idiom for vorticity for <a href="#s4-c3-f5-tab" class="ref-figure">Figure 4.5</a> and <a href="#s4-c3-f6-tab" class="ref-figure">Figure 4.6</a> are listed as follows.
            </p>
            <div class="row">
                <div class="col-lg-8 order-2 order-lg-1">
                    <ol class="steps">
                        <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>ComputeDerrivatives1</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>Contour</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Under <code class="code-prop">Properties</code>, select <code>Contour</code> by <code>u</code></li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Styling</code>, adjust <code>Line Width</code> to 5</li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Coloring</code>, click <code>Edit</code>, Edit color mapping of <span class="color-preview" style="background-image: linear-gradient(to right, black, blue, white); width: 3em; border-radius: 5px;"></span><code>Black, Blue and White</code></li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Isosurfaces</code>, click <code>Add a range of values</code></li>
                        <li>At the pop up text box of <code>Number of Samples</code>, enter 10</li>
                        <li>Click Apply</li>
                        <li>Under the <code class="code-prop">Pipeline Browser</code>, rename <code>Contour1</code> to <code>Contour_Vorticity_10</code> and select <code>TableToStructuredGrid2</code></li>
                        <li>Repeat Step 2 to Step 7, and enter 30 at the text box of <code>Number of Samples</code></li>
                        <li>Under the <code class="code-prop">Pipeline Browser</code>, rename <code>Contour1</code> to <code>Contour_Vorticity_30</code></li>
                        <li>Click Apply</li>
                    </ol>
                </div>
                <div class="col-lg-4 order-1 order-lg-2 side-image">
                    <div>
                        <img class="img-ss" src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/ss4-4.png" alt="Screenshot of visualization pipeline for Vorticity Isocontour">
                        <p class="caption">Screenshot of visualization pipeline for Vorticity Isocontour</p>
                    </div>
                </div>
            </div>
            <h3 id="s4-p3">Arrow Glyph with Speed Magnitude</h3>
            <div class="card text-center mb-3 mx-auto" id="s4-c4">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s4-c4-f7-tab" data-bs-toggle="tab" data-bs-target="#s4-c4-f7" type="button" role="tab" aria-controls="s4-c4-f7" aria-selected="true">Figure 4.7</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s4-c4-f7" role="tabpanel" aria-labelledby="s4-c4-f7-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c4-f7.png" alt="Arrow Glyph with Background Gradient">
                            <p class="caption">Figure 4.7: Arrow Glyph with Background Gradient</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                <a href="#s4-c4-f7-tab" class="ref-figure">Figure 4.7</a> shows the visualization idiom of the arrow plot with color mapping the speed quantity in which the arrow glyph represents the trajectories of water particles, and the color represents
                its speed. As the idiom depicted, the water particles (i.e., represented by arrows) whirling clockwise toward the center. The water particles get their highest speed (i.e., 0.8 to 1.0) at the top because it is the area where force is provided
                as the wind acts upon the surface of the water. Then, the speed of water particles slightly decreased while whirling clockwise toward the center. Next, when the water particles reach toward the center, the water particles have zero or
                near to zero speed. One of the reasons is due to the force inside the water particles provided by the wind having used up when it traveled at the center. By the same token, the critical point is at the center of the idiom where the velocity
                becomes, as we observed, zero. Besides, <a href="#s3-c1-f1-tab" class="ref-figure">Figure 3.1</a> also shows a similar visualization idiom of visualizing the velocity of water particles, which has been described in <a href="#s3">Section 3</a>.
            </p>
            <p class="paragraph">
                To describe the rationale in choosing the visualization tools for the idiom, we have used <code>Glyph</code> filter to represent the direction of the water particles, so that we can identify that the water particles are circulating clockwise
                toward the center. Besides, we have added another layer of visualization idiom to show the speed magnitude using a background gradient by color mapping the <code>TableToStructuredGrid2</code>, which derived from the speed formula \(\sqrt{u^2+v^2+w^2}
                \). Hence, we can identify the critical point where the velocity of the water particles becomes zero, which is at the center of the visualization idiom. In addition, the <code>opacity</code> of Arrow Glyph has decreased to 0.52 as more
                expressive in the view of the speed magnitude.
            </p>
            <div class="row">
                <div class="col-lg-8 order-2 order-lg-1">
                    <ol class="steps">
                        <li>Under <code class="code-prop">Pipeline Browser</code>, select <code>TableToStructuredGrid1</code></li>
                        <li><span class="kbd">Ctrl</span> + <span class="kbd">Space</span>, and then search filter: <code>Glyph</code>, and then press <span class="kbd">Enter</span></li>
                        <li>Under <code class="code-prop">Properties</code>, <code>Orientation Array</code>, select <code>Velocity</code></li>
                        <li>Under <code class="code-prop">Properties</code>, <code>Scale Factor</code>, input 0.043</li>
                        <li>Under <code class="code-prop">Properties</code>, <code>Number of Samples</code>, input 1000</li>
                        <li>Under <code class="code-prop">Properties</code>, <code class="code-prop">Styling</code>, change the <code>opacity</code> to 0.52</li>
                        <li>Edit Coloring of <span class="color-preview" style="background-color: white;"></span><code>white</code> <code>Solid Color</code></li>
                        <li>Click Apply</li>
                        <li>Under <code class="code-prop">Pipeline Browser</code>, show the background gradient by opening the "eye" of <code>TableToStructuredGrid2</code></li>
                    </ol>
                </div>
                <div class="col-lg-4 order-1 order-lg-2 side-image">
                    <div>
                        <img class="img-ss" src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/ss4-5.png" alt="Screenshot of visualization pipeline for Arrow Glyph with Background Gradient">
                        <p class="caption">Screenshot of visualization pipeline for Arrow Glyph with Background Gradient</p>
                    </div>
                </div>
            </div>
            <h3 id="s4-p4">Interactive Demos</h3>
            <ul>
                <li>This section is prepared for the live inspection on magnitude of water flow</li>
                <li>Navigation Instruction:</li>
                <ul>
                    <li>Scroll Up inside the canvas to zoom in</li>
                    <li>Double Click anypoint on the canvas to move around</li>
                </ul>
            </ul>
            <div class="card text-center mb-3 mx-auto" id="s4-c5">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s4-c5-f8-tab" data-bs-toggle="tab" data-bs-target="#s4-c5-f8" type="button" role="tab" aria-controls="s4-c5-f8" aria-selected="false">Contour of Vorticity Magnitude at 30 isolines</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s4-c5-f9-tab" data-bs-toggle="tab" data-bs-target="#s4-c5-f9" type="button" role="tab" aria-controls="s4-c5-f9" aria-selected="true">Contour of Speed Magnitude at 30 isolines</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s4-c5-f8" role="tabpanel" aria-labelledby="s4-c5-f8-tab">
                            <x3d>
                                <scene>
                                    <NavigationInfo reverseScroll='true'></NavigationInfo>
                                    <inline url="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/x3d/s4-c5-f8.x3d"></inline>
                                </scene>
                            </x3d>
                        </div>
                        <div class="tab-pane fade" id="s4-c5-f9" role="tabpanel" aria-labelledby="s4-c5-f9-tab">
                            <x3d>
                                <scene>
                                    <NavigationInfo reverseScroll='true'></NavigationInfo>
                                    <inline url="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/x3d/s4-c5-f9.x3d"></inline>
                                </scene>
                            </x3d>
                        </div>
                    </div>
                </div>
            </div>
            <h3 id="s4-p5"><a href="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/pvsm/Section 4.pvsm" download>ParaView state file for Section 4</a></h3>
            <h2 id="s5">Section 5: Visualization Designs</h2>
            <hr class="solid">
            <p class="paragraph">
                In this section, we will analyze and compare the visualization idioms created in this assignment by using the visual analytic framework proposed by Munzner <a href="#ref3" class="ref-link" id="unref7">[3]</a>. We divided these idioms into
                three groups according to their tasks for easier comparison namely visualization of water velocity, visualization of water vorticity, and visualization of water speed. After that, the best idiom in each group is selected.
            </p>
            <h3 id="s5-p1">Visualization of water velocity</h3>
            <p class="paragraph">
                There are 5 idioms created to visualize the water velocity in the open channel as shown in <a href="#s5-c1">Figure 5.1</a>. <a href="#s5-t1">Table 5.1</a> summarizes and compares these 5 idioms.
            </p>
            <div class="card text-center mb-3 mx-auto" id="s5-c1">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s5-c1-fa-tab" data-bs-toggle="tab" data-bs-target="#s5-c1-fa" type="button" role="tab" aria-controls="s5-c1-fa" aria-selected="true">Figure 5.1a</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s5-c1-fb-tab" data-bs-toggle="tab" data-bs-target="#s5-c1-fb" type="button" role="tab" aria-controls="s5-c1-fb" aria-selected="false">Figure 5.1b</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s5-c1-fc-tab" data-bs-toggle="tab" data-bs-target="#s5-c1-fc" type="button" role="tab" aria-controls="s5-c1-fc" aria-selected="false">Figure 5.1c</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s5-c1-fd-tab" data-bs-toggle="tab" data-bs-target="#s5-c1-fd" type="button" role="tab" aria-controls="s5-c1-fd" aria-selected="false">Figure 5.1d</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s5-c1-fe-tab" data-bs-toggle="tab" data-bs-target="#s5-c1-fe" type="button" role="tab" aria-controls="s5-c1-fe" aria-selected="false">Figure 5.1e</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s5-c1-fa" role="tabpanel" aria-labelledby="s5-c1-fa-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c1-f1.jpg" alt="Unscaled Glyph Arrow Chart">
                            <p class="caption">Figure 5.1a: Unscaled Glyph Arrow Chart</p>
                        </div>
                        <div class="tab-pane fade" id="s5-c1-fb" role="tabpanel" aria-labelledby="s5-c1-fb-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c4-f6.jpg" alt="Scaled Glyph Arrow Chart">
                            <p class="caption">Figure 5.1b: Scaled Glyph Arrow Chart</p>
                        </div>
                        <div class="tab-pane fade" id="s5-c1-fc" role="tabpanel" aria-labelledby="s5-c1-fc-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c5-f7.jpg" alt="Evenly Spaced 2D Streamline">
                            <p class="caption">Figure 5.1c: Evenly Spaced 2D Streamline</p>
                        </div>
                        <div class="tab-pane fade" id="s5-c1-fd" role="tabpanel" aria-labelledby="s5-c1-fd-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c4-f7.png" alt="Arrow Glyph with Background Gradient">
                            <p class="caption">Figure 5.1d: Arrow Glyph with Background Gradient</p>
                        </div>
                        <div class="tab-pane fade" id="s5-c1-fe" role="tabpanel" aria-labelledby="s5-c1-fe-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c6-f8.gif" alt="Streamlines Animation">
                            <p class="caption">Figure 5.1e: Streamlines Animation</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="caption">Figure 5.1: Visualization idioms for water velocity</p>
            <p class="table-caption" id="s5-t1">Table 5.1: Comparison of visualization idioms for water velocity</p>
            <table cellspacing=0 cellpadding=0 style="font-size: 11pt;">
                <colgroup>
                    <col style="width: 120px;">
                </colgroup>
                <tr>
                    <td class="tbl-header">
                        <p>Idiom</p>
                    </td>
                    <td>
                        <a href="#s5-c1-fa-tab" class="ref-figure">Unscaled Glyph Arrow Chart</a>
                    </td>
                    <td>
                        <a href="#s5-c1-fb-tab" class="ref-figure">Scaled Glyph Arrow Chart</a>
                    </td>
                    <td>
                        <a href="#s5-c1-fc-tab" class="ref-figure">Evenly Spaced 2D Streamline</a>
                    </td>
                    <td>
                        <a href="#s5-c1-fd-tab" class="ref-figure">Arrow Glyph with Background Gradient</a>
                    </td>
                    <td>
                        <a href="#s5-c1-fe-tab" class="ref-figure">Streamlines Animation</a>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>What: Data</p>
                    </td>
                    <td colspan=5>
                        2D field data
                        <ul style="margin-top: 0;">
                            <li>Items: position (x, y, z)</li>
                            <li>Attributes: velocity (u, v, w)</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>What: Derived</p>
                    </td>
                    <td>
                        <ul>
                            <li>Field: Velocity vector</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Field: Velocity vector</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Field: Velocity vector</li>
                            <li>Geometry: Streamline</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Field: Velocity vector</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Field: Velocity vector</li>
                            <li>Geometry: Streamline</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>Why: Tasks</p>
                    </td>
                    <td colspan=5>
                        <p>Summarize water flow shape</p>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>How: Encode</p>
                    </td>
                    <td>
                        <ul>
                            <li>
                                Flow glyph
                                <ul>
                                    <li>direction</li>
                                </ul>
                            </li>
                            <li>
                                Color luminance
                                <ul>
                                    <li>velocity magnitude</li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>
                                Flow glyph
                                <ul>
                                    <li>direction</li>
                                </ul>
                            </li>
                            <li>
                                Color luminance
                                <ul>
                                    <li>velocity magnitude</li>
                                </ul>
                            </li>
                            <li>
                                Length
                                <ul>
                                    <li>velocity magnitude</li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>
                                Streamline
                                <ul>
                                    <li>flow trajectory</li>
                                </ul>
                            </li>
                            <li>
                                Color luminance
                                <ul>
                                    <li>velocity magnitude</li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>
                                Flow glyph
                                <ul>
                                    <li>direction</li>
                                </ul>
                            </li>
                            <li>
                                Color luminance
                                <ul>
                                    <li>velocity magnitude</li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>
                                Streamline
                                <ul>
                                    <li>flow trajectory</li>
                                </ul>
                            </li>
                            <li>
                                Color luminance
                                <ul>
                                    <li>velocity magnitude</li>
                                </ul>
                            </li>
                            <li>
                                Animation
                                <ul>
                                    <li>flow over time</li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>Scale</p>
                    </td>
                    <td>
                        <ul>
                            <li>Up to 5000 glyph arrows</li>
                            <li>Up to 100% color luminance</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Up to 5000 glyph arrows</li>
                            <li>Up to 0.4 arrow size</li>
                            <li>Up to 100% color luminance</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Up to 30 evenly spaced streamline</li>
                            <li>Up to 100% color luminance</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Up to 5000 glyph arrows</li>
                            <li>Up to 100% color luminance</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Up to several seconds of animation</li>
                            <li>Up to 100% color luminance</li>
                        </ul>
                    </td>
                </tr>
            </table>
            <p class="paragraph">
                These 5 idioms serve the same purpose which is to summarize the water flow shape in terms of its velocity which including the speed and the direction of the water flow in the open channel. Given 2D field data, we derived velocity vector. The given field
                data has 82 by 82 grid, meaning that all data has position on common scale. In fact, all visualization idioms created in this assignment have vertical and horizontal position channels. According to Munzner <a href="#ref3"
                    id="unref8" class="ref-link">[3]</a>, position on common scale is the most effective encoding channel for ordered attributes as shown in
                <a href="#s5-c2-f1-tab" class="ref-figure">Figure 5.2</a>.
            </p>
            <div class="card text-center mb-3 mx-auto" id="s5-c2">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s5-c2-f1-tab" data-bs-toggle="tab" data-bs-target="#s5-c2-f1" type="button" role="tab" aria-controls="s5-c2-f1" aria-selected="true">Figure 5.2</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s5-c2-f1" role="tabpanel" aria-labelledby="s5-c2-f1-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s5-c2-f1.jpg" alt="Channel expressiveness types and effectiveness ranks">
                            <p class="caption">Figure 5.2: Channel expressiveness types and effectiveness ranks</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="paragraph">
                <strong>Flow glyph</strong> is used to visualize the direction of water flow in <a href="#s5-c1-fa-tab" class="ref-figure">Unscaled Glyph Arrow Chart</a>, <a href="#s5-c1-fb-tab" class="ref-figure">Scaled Glyph Arrow Chart</a>, and
                <a href="#s5-c1-fd-tab" class="ref-figure">Arrow Glyph with Background Gradient</a>. Flow glyph is a common vector field spatial encoding technique to encode the local information at each cell <a href="#ref3" id="unref9" class="ref-link">[3]</a>.
                To break it down further, the flow glyph is using line mark, position, and tilt channel to encode the local information. According to <a href="#s5-c2-f1-tab" class="ref-figure">Figure 5.2</a>, the tilt channel is the fourth effective encoding
                channel for ordered attributes.
            </p>
            <p class="paragraph">
                <strong>Streamlines</strong> are used to visualize the water flow trajectory in <a href="#s5-c1-fc-tab" class="ref-figure">Evenly Spaced 2D Streamline</a> and <a href="#s5-c1-fe-tab" class="ref-figure">Streamlines Animation</a>. Streamline
                is the trajectory that a speciﬁc particle will follow <a href="#ref3" id="unref10" class="ref-link">[3]</a>. It is categorized under geometry flow, one of the common vector fields spatial encoding techniques. To break it down further,
                streamline is using line mark and position channel to encode the flow trajectory.
            </p>
            <p class="paragraph">
                <strong>Color luminance</strong> is used by all 5 idioms to encode the water velocity magnitude (speed) and it is the seventh effective encoding channel for ordered attributes. In <a href="#s5-c1-fb-tab" class="ref-figure">Scaled Glyph Arrow Chart</a>,
                we tried to improve the idiom by encoding the velocity magnitude using length as well. Based on <a href="#s5-c2-f1-tab" class="ref-figure">Figure 5.2</a>, length is the third effective encoding channel for ordered attributes. In <a href="#s5-c1-fe-tab"
                    class="ref-figure">Streamlines Animation</a>, we further improved the idiom by showing the water flow over time using animation.
            </p>
            <p class="paragraph">
                In terms of scalability, <a href="#s5-c1-fa-tab" class="ref-figure">Unscaled Glyph Arrow Chart</a>, <a href="#s5-c1-fb-tab" class="ref-figure">Scaled Glyph Arrow Chart</a> and <a href="#s5-c1-fd-tab" class="ref-figure">Arrow Glyph with Background Gradient</a>                can scale up to 5000 sample glyph arrows, meaning that over 5000 glyph arrows the idioms will clutter with too many arrows making it unreadable. For <a href="#s5-c1-fb-tab" class="ref-figure">Scaled Glyph Arrow Chart</a>, the arrow size
                can scale up to 0.4. For <a href="#s5-c1-fc-tab" class="ref-figure">Evenly Spaced 2D Streamline</a>, it can scale up to 30 evenly spaced streamlines. For <a href="#s5-c1-fe-tab" class="ref-figure">Streamlines Animation</a>, the animation
                can scale up to several seconds because it basically loops the same thing repeatedly in a window of a few seconds. All 5 idioms can scale up to 100% color luminance.
            </p>
            <p class="paragraph">
                After analyzing and comparing these 5 idioms, we think that the most effective idiom for summarizing the water flow shape is <a href="#s5-c1-fe-tab" class="ref-figure">Streamlines Animation</a> because it not only uses position (1st) and
                color luminance (7th) channel to encode the data, but it also uses animation to visualize the water flow over time, making it very easy to understand the overall flow behavior and water velocity in the open channel.
            </p>
            <h3 id="s5-p2">Visualization of water vorticity</h3>
            <p class="paragraph">
                There are 2 idioms created to visualize the water vorticity in the open channel as shown in <a href="#s5-c3">Figure 5.3</a>. <a href="#s5-t2">Table 5.2</a> summarizes and compares these 2 idioms.
            </p>
            <div class="card text-center mb-3 mx-auto" id="s5-c3">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s5-c3-fa-tab" data-bs-toggle="tab" data-bs-target="#s5-c3-fa" type="button" role="tab" aria-controls="s5-c3-fa" aria-selected="true">Figure 5.3a</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s5-c3-fb-tab" data-bs-toggle="tab" data-bs-target="#s5-c3-fb" type="button" role="tab" aria-controls="s5-c3-fb" aria-selected="false">Figure 5.3b</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s5-c3-fa" role="tabpanel" aria-labelledby="s5-c3-fa-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c1-f1.png" alt="Vorticity Gradient Chart">
                            <p class="caption">Figure 5.3a: Vorticity Gradient Chart</p>
                        </div>
                        <div class="tab-pane fade" id="s5-c3-fb" role="tabpanel" aria-labelledby="s5-c3-fb-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c3-f6.png" alt="Contour of Vorticity Magnitude at 30 isolines">
                            <p class="caption">Figure 5.3b: Vorticity Isocontour</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="caption">Figure 5.3: Visualization idioms for water vorticity</p>
            <p class="table-caption" id="s5-t2">Table 5.2: Comparisons of visualization idioms for water vorticity</p>
            <table cellspacing=0 cellpadding=0>
                <colgroup>
                    <col style="width: 175px;">
                </colgroup>
                <tr>
                    <td class="tbl-header">
                        <p>Idiom</p>
                    </td>
                    <td>
                        <a href="#s5-c3-fa-tab" class="ref-figure">Vorticity Gradient Chart</a>
                    </td>
                    <td>
                        <a href="#s5-c3-fb-tab" class="ref-figure">Vorticity Isocontour</a>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>What: Data</p>
                    </td>
                    <td colspan=5>
                        2D field data
                        <ul style="margin-top: 0;">
                            <li>Items: position (x, y, z)</li>
                            <li>Attributes: velocity (u, v, w)</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>What: Derived</p>
                    </td>
                    <td>
                        <ul>
                            <li>Field: Vorticity (scalar)</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Field: Vorticity (scalar)</li>
                            <li>Geometry: Isocontour</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>Why: Tasks</p>
                    </td>
                    <td colspan=5>
                        <p>Identify the water vorticity distribution</p>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>How: Encode</p>
                    </td>
                    <td>
                        <ul>
                            <li>
                                Color luminance
                                <ul>
                                    <li>vorticity magnitude</li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>
                                Color luminance
                                <ul>
                                    <li>vorticity magnitude</li>
                                </ul>
                            </li>
                            <li>
                                Isocontour
                                <ul>
                                    <li>vorticity levels</li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>Scale</p>
                    </td>
                    <td>
                        <ul>
                            <li>Up to 100% color luminance</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Up to 30 contour levels</li>
                            <li>Up to 100% color luminance</li>
                        </ul>
                    </td>
                </tr>
            </table>
            <p class="paragraph">
                Both idioms serve the same purpose which is to identify the distribution of the water vorticity in the open channel. In specific, we would like to determine how much is the rate of change in the vorticity magnitude. Given the same 2D field data, now we
                derived vorticity which is scalar field data. In <a href="#s5-c3-fb-tab" class="ref-figure">Vorticity Isocontour</a>, we extracted isocontours from the vorticity. Isocontour is a common scalar field encoding technique to
                extract specific levels and scalar values <a href="#ref3" id="unref11" class="ref-link">[3]</a>. To break it down further, isocontour is using a line mark and position channel to encode the vorticity levels. Color luminance is used by
                both idioms to encode the vorticity magnitude.
            </p>
            <p class="paragraph">
                In terms of <strong>scalability</strong>, <a href="#s5-c3-fb-tab" class="ref-figure">Vorticity Isocontour</a> can scale up to 30 contour levels, meaning that exceeding this number the idiom will clutter with too many contour lines, making
                it very difficult to differentiate each level effectively. Both idioms can scale up to 100% color luminance.
            </p>
            <p class="paragraph">
                After analyzing and comparing these 2 idioms, we think that the most effective idiom for identifying the water vorticity distribution is <a href="#s5-c3-fb-tab" class="ref-figure">Vorticity Isocontour</a> because it provides more details
                namely the vorticity contour level compared to <a href="#s5-c3-fa-tab" class="ref-figure">Vorticity Gradient Chart</a>. In <a href="#s5-c3-fa-tab" class="ref-figure">Vorticity Gradient Chart</a>, some regions have very similar color luminance,
                making it very difficult to differentiate which area has higher vorticity. However, in <a href="#s5-c3-fb-tab" class="ref-figure">Vorticity Isocontour</a>, we can easily notice the different levels of water vorticity in the open channel.
            </p>
            <h3 id="s5-p3">Visualization of water speed</h3>
            <p class="paragraph">
                There are 2 idioms created to visualize the water speed in the open channel as shown in <a href="#s5-c4">Figure 5.4</a>. <a href="#s5-t3">Table 5.3</a> summarizes and compares these 2 idioms.
            </p>
            <div class="card text-center mb-3 mx-auto" id="s5-c4">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s5-c4-fa-tab" data-bs-toggle="tab" data-bs-target="#s5-c4-fa" type="button" role="tab" aria-controls="s5-c4-fa" aria-selected="true">Figure 5.4a</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s5-c4-fb-tab" data-bs-toggle="tab" data-bs-target="#s5-c4-fb" type="button" role="tab" aria-controls="s5-c4-fb" aria-selected="false">Figure 5.4b</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s5-c4-fa" role="tabpanel" aria-labelledby="s5-c4-fa-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c1-f2.png" alt="Speed Gradient Chart">
                            <p class="caption">Figure 5.4a: Speed Gradient Chart</p>
                        </div>
                        <div class="tab-pane fade" id="s5-c4-fb" role="tabpanel" aria-labelledby="s5-c4-fb-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c2-f4.png" alt="Contour of Speed Magnitude at 30 isolines">
                            <p class="caption">Figure 5.4b: Speed Isocontour</p>
                        </div>
                    </div>
                </div>
            </div>
            <p class="caption">Figure 5.4: Visualization idioms for water velocity</p>
            <p class="table-caption" id="s5-t3">Table 5.3: Comparisons of visualization idioms for water speed</p>
            <table cellspacing=0 cellpadding=0>
                <colgroup>
                    <col style="width: 175px;">
                </colgroup>
                <tr>
                    <td class="tbl-header">
                        <p>Idiom</p>
                    </td>
                    <td>
                        <a href="#s5-c4-fa-tab" class="ref-figure">Speed Gradient Chart</a>
                    </td>
                    <td>
                        <a href="#s5-c4-fb-tab" class="ref-figure">Speed Isocontour</a>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>What: Data</p>
                    </td>
                    <td colspan=5>
                        2D field data
                        <ul style="margin-top: 0;">
                            <li>Items: position (x, y, z)</li>
                            <li>Attributes: velocity (u, v, w)</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>What: Derived</p>
                    </td>
                    <td>
                        <ul>
                            <li>Field: Speed (scalar)</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Field: Speed (scalar)</li>
                            <li>Geometry: Isocontour</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>Why: Tasks</p>
                    </td>
                    <td colspan=5>
                        <p>Identify the water speed distribution</p>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>How: Encode</p>
                    </td>
                    <td>
                        <ul>
                            <li>
                                Color luminance
                                <ul>
                                    <li>speed magnitude</li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>
                                Color luminance
                                <ul>
                                    <li>speed magnitude</li>
                                </ul>
                            </li>
                            <li>
                                Isocontour
                                <ul>
                                    <li>speed levels</li>
                                </ul>
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td class="tbl-header">
                        <p>Scale</p>
                    </td>
                    <td>
                        <ul>
                            <li>Up to 100% color luminance</li>
                        </ul>
                    </td>
                    <td>
                        <ul>
                            <li>Up to 30 contour levels</li>
                            <li>Up to 100% color luminance</li>
                        </ul>
                    </td>
                </tr>
            </table>
            <p class="paragraph">
                Both idioms serve the same purpose which is to identify the water speed distribution in the open channel. Given the same 2D field data, we derived speed which is scalar field data. In <a href="#s5-c4-fb-tab" class="ref-figure">Speed Isocontour</a>,
                we extracted isocontours from the speed to encode the speed levels. Color luminance is used by both idioms to encode the speed magnitude. In terms of scalability, <a href="#s5-c4-fb-tab" class="ref-figure">Speed Isocontour</a> can scale
                up to 30 contour levels and both idioms can scale up to 100% color luminance.
            </p>
            <p class="paragraph">
                After analyzing and comparing these 2 idioms, we think that the most effective idiom for identifying the water speed distribution is <a href="#s5-c4-fb-tab" class="ref-figure">Speed Isocontour</a> because it provides more details namely
                the speed contour level compared to <a href="#s5-c4-fa-tab" class="ref-figure">Speed Gradient Chart</a>. In <a href="#s5-c4-fa-tab" class="ref-figure">Speed Gradient Chart</a>, some regions have very similar color luminance, making it
                very difficult to differentiate which area has greater speed. However, in <a href="#s5-c4-fb-tab" class="ref-figure">Speed Isocontour</a>, we can easily notice the different levels of water speed in the open channel.
            </p>
            <h3 id="s5-p4">Summary</h3>
            <p class="paragraph">
                As a summary, we chose <a href="#s5-c5-fa-tab" class="ref-figure">Streamlines Animation</a>, <a href="#s5-c5-fb-tab" class="ref-figure">Vorticity Isocontour</a> and <a href="#s5-c5-fc-tab" class="ref-figure">Speed Isocontour</a> as the
                best visualization idioms for water velocity, vorticity and speed respectively as shown in <a href="#s5-c5">Figure 5.5</a>.
            </p>
            <div class="card text-center mb-3 mx-auto" id="s5-c5">
                <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs justify-content-end">
                        <li class="nav-item">
                            <button class="nav-link active" id="s5-c5-fa-tab" data-bs-toggle="tab" data-bs-target="#s5-c5-fa" type="button" role="tab" aria-controls="s5-c5-fa" aria-selected="true">Figure 5.5a</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s5-c5-fb-tab" data-bs-toggle="tab" data-bs-target="#s5-c5-fb" type="button" role="tab" aria-controls="s5-c5-fb" aria-selected="false">Figure 5.5b</button>
                        </li>
                        <li class="nav-item">
                            <button class="nav-link" id="s5-c5-fc-tab" data-bs-toggle="tab" data-bs-target="#s5-c5-fc" type="button" role="tab" aria-controls="s5-c5-fc" aria-selected="false">Figure 5.5c</button>
                        </li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content">
                        <div class="tab-pane fade show active" id="s5-c5-fa" role="tabpanel" aria-labelledby="s5-c5-fa-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s3-c6-f8.gif" alt="Streamlines Animation">
                            <p class="caption">Figure 5.5a: Streamlines Animation</p>
                        </div>
                        <div class="tab-pane fade" id="s5-c5-fb" role="tabpanel" aria-labelledby="s5-c5-fb-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c2-f4.png" alt="Contour of Speed Magnitude at 30 isolines">
                            <p class="caption">Figure 5.5b: Speed Isocontour</p>
                        </div>
                        <div class="tab-pane fade" id="s5-c5-fc" role="tabpanel" aria-labelledby="s5-c5-fc-tab">
                            <img src="https://cdn.jsdelivr.net/gh/Rexpert/Flow_Data_Viz/assets/img/s4-c3-f6.png" alt="Contour of Vorticity Magnitude at 30 isolines">
                            <p class="caption">Figure 5.5c: Vorticity Isocontour</p>
                        </div>
                    </div>
                </div>
            </div>
            <h2 id="reference">References</h2>
            <hr class="solid">
            <ol class="ref">
                <li id="ref1"><a href="#unref1" class="ref-link">^</a> U. Ayachit, <i>The ParaView Guide Community Edition</i>, vol. 5. Kitware Inc., 2019.</li>
                <li id="ref2"><a href="#unref2" class="ref-link">^</a> “Using ParaView to Visualize Scientific Data (online tutorial) : <i>TechWeb</i> : Boston University,” TechWeb. <a href="https://www.bu.edu/tech/support/research/training-consulting/online-tutorials/paraview/">https://www.bu.edu/tech/support/research/training-consulting/online-tutorials/paraview/</a>                    (accessed Dec. 30, 2021).</li>
                <li id="ref3"><span class="ref-link">^</span> <a href="#unref3" class="ref-link">a</a> <a href="#unref7" class="ref-link">b</a> <a href="#unref8" class="ref-link">c</a> <a href="#unref9" class="ref-link">d</a> <a href="#unref10" class="ref-link">e</a>                    <a href="#unref11" class="ref-link">f</a> T. Munzner, <i>Visualization Analysis & Design</i>. New York: CRC Press, 2014.</li>
                <li id="ref4"><a href="#unref4" class="ref-link">^</a> “Vorticity | Applied Mathematics | University of Waterloo,” <i>UWaterLoo</i>. <a href="https://uwaterloo.ca/applied-mathematics/current-undergraduates/continuum-and-fluid-mechanics-students/amath-463-students/vorticity">https://uwaterloo.ca/applied-mathematics/current-undergraduates/continuum-and-fluid-mechanics-students/amath-463-students/vorticity</a>                    (accessed Dec. 30, 2021).</li>
                <li id="ref5"><a href="#unref5" class="ref-link">^</a> “A one-way street for spinning atoms | MIT News | Massachusetts Institute of Technology,” <i>MIT</i>, Aug. 30, 2012. <a href="https://news.mit.edu/2012/spin-diode-paper">https://news.mit.edu/2012/spin-diode-paper</a>                    (accessed Dec. 30, 2021).</li>
                <li id="ref6"><a href="#unref6" class="ref-link">^</a> “paraview.simple.WarpByScalar — ParaView/Python 5.9.1 documentation,” <i>ParaView</i>. <a href="https://kitware.github.io/paraview-docs/latest/python/paraview.simple.WarpByScalar.html">https://kitware.github.io/paraview-docs/latest/python/paraview.simple.WarpByScalar.html</a>                    (accessed Dec. 30, 2021).</li>
            </ol>
            <h2 id="about">About Us</h2>
            <hr class="solid">
            <p class="paragraph">We are students from USM who undertaking an MSc of Science (Data Science & Analytics), this webpage report is prepared for CDS 505 Data Visualization & Visual Analytics, in Semester 1 (2021/2022). This course is taught by Professor Dato' Dr.
                Bahari Belaton and Dr. Nur Intan Raihana Ruhaiyem. Our group is S4-Grp4, the team members are listed as below: </p>
            <ul>
                <li>Lee Kah Win (P-COM0230/20)</li>
                <li>Chin Jun Hong (P-COM0007/21)</li>
                <li>Cheah Yong Nie (P-COM0237/20)</li>
                <li>Neoh Hai Liang (P-COM0045/21)</li>
            </ul>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Self-defined JS -->
    <script>
        document.addEventListener("DOMContentLoaded", function(event) {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();

                    const href = this.getAttribute('href');
                    if (this.classList.contains('ref-figure')) {
                        document.querySelector(href.substring(0, 6)).scrollIntoView({
                            behavior: 'smooth'
                        });
                        document.querySelector(href).click();
                    } else {
                        document.querySelector(href).scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</body>

</html>